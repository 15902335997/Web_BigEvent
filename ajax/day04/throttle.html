<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>节流案例—鼠标跟随效果</title>
    <script src="../day02/js/jQuery.min.js"></script>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        #angel {
            position: absolute;
        }
    </style>
</head>
<body>
<img src="angel.gif" alt="" id="angel">

<script>
    $(function () {
        var angel = $('#angel')
        //定义一个节流阀
        var timer = null
        $(document).on('mousemove', function (e) {
            //判断节流阀是否为空，如果不为空则return
            if (timer) {
                return
            }
            //如果节流阀为空，则执行下方代码
            timer = setTimeout(function () {
                $(angel).css('top', e.pageY + 'px').css('left', e.pageX + 'px')
                console.log('ok')
                //执行完之后重新将节流阀设置为空，好进行下一次操作
                timer = null
            }, 16)
        })
    })
</script>
</body>
</html>